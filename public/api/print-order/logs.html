<!DOCTYPE html>
<html>
<head>
    <title>Logs Impression</title>
    <meta charset="utf-8">
    <style>
        body { font-family: monospace; margin: 20px; }
        .log { background: #f0f0f0; padding: 10px; margin: 5px 0; border-left: 3px solid #007cba; }
        .error { border-left-color: #dc3545; background: #f8d7da; }
        .success { border-left-color: #28a745; background: #d4edda; }
        .info { border-left-color: #17a2b8; background: #d1ecf1; }
    </style>
</head>
<body>
    <h1>ğŸ” Logs d'impression - Diagnostic</h1>
    
    <div class="log info">
        <strong>ğŸ“… Timestamp:</strong> <span id="timestamp"></span>
    </div>
    
    <div class="log info">
        <strong>ğŸŒ URL de test:</strong> <a href="/api/print-order/debug.txt" target="_blank">/api/print-order/debug.txt</a>
    </div>
    
    <div class="log info">
        <strong>ğŸ–¨ï¸ URL pour imprimante:</strong> <code>https://preview--sushi-eats.lovable.app/api/print-order/debug.txt</code>
    </div>
    
    <div class="log">
        <strong>ğŸ“‹ Configuration imprimante requise:</strong><br>
        â€¢ Server Direct Print: Enable<br>
        â€¢ URL Server1: https://preview--sushi-eats.lovable.app/api/print-order/debug.txt<br>
        â€¢ Interval: 5 secondes<br>
        â€¢ URL Encode: Enable<br>
        â€¢ Server Authentication: Disable
    </div>
    
    <div class="log">
        <strong>ğŸ”§ Tests Ã  effectuer:</strong><br>
        1. VÃ©rifier que l'URL s'ouvre dans le navigateur<br>
        2. Configurer l'imprimante avec l'URL exacte<br>
        3. Attendre 5-10 secondes aprÃ¨s configuration<br>
        4. VÃ©rifier les logs de l'imprimante si disponibles
    </div>
    
    <div class="log error">
        <strong>âš ï¸ ProblÃ¨mes possibles:</strong><br>
        â€¢ L'imprimante ne peut pas accÃ©der Ã  HTTPS<br>
        â€¢ Firewall bloque l'accÃ¨s externe<br>
        â€¢ L'imprimante n'a pas internet<br>
        â€¢ Configuration incorrecte de l'URL
    </div>
    
    <div class="log success">
        <strong>âœ… Si Ã§a marche:</strong><br>
        L'imprimante devrait imprimer ce contenu automatiquement toutes les 5 secondes
    </div>
    
    <script>
        document.getElementById('timestamp').textContent = new Date().toLocaleString('fr-FR');
        
        // Test de l'URL
        fetch('/api/print-order/debug.txt')
            .then(response => {
                if (response.ok) {
                    console.log('âœ… URL accessible');
                } else {
                    console.log('âŒ URL non accessible:', response.status);
                }
            })
            .catch(error => {
                console.log('âŒ Erreur:', error);
            });
    </script>
</body>
</html>
